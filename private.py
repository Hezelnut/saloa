import requests
import streamlit as st
import pandas as pd
import pandas

st.set_page_config(
    page_title="saloa.gg",
    page_icon="ğŸ˜Š",
    layout="wide",
)

st.title("Saloa")

reset = st.button('ê°±ì‹ í•˜ê¸°')
if reset:
    st.cache_data.clear()
else:
    pass



headers = {
            'accept': 'application/json',
            'authorization': 'bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IktYMk40TkRDSTJ5NTA5NWpjTWk5TllqY2lyZyIsImtpZCI6IktYMk40TkRDSTJ5NTA5NWpjTWk5TllqY2lyZyJ9.eyJpc3MiOiJodHRwczovL2x1ZHkuZ2FtZS5vbnN0b3ZlLmNvbSIsImF1ZCI6Imh0dHBzOi8vbHVkeS5nYW1lLm9uc3RvdmUuY29tL3Jlc291cmNlcyIsImNsaWVudF9pZCI6IjEwMDAwMDAwMDAwODc4NTYifQ.Kz1Q31XCxpow-7vQUhjx8sejfVuQHi0T7BLfVoIXd4LErYMYJZ82oc9PX3Ls19rVxgvnNrwnpu2a2Ctg3vX8qO0214NgAh1Ab8M2hPPEksai7LY2enjhBGu7nvs8Ic9eq43p4DiGlpHQ68zZBbTo1WFbumayIrWkVAD-m7AHbkuguM0pMuXv8qL7ar6ZR-vVUsOetOuAannv6OpFhss3db1n4PuJM6S1TPyo2-Uo6T2FTp5Ue9C8TmIFnj97ZESorEU5KttbZ9qkL8yYnsK1A6glbYQksGMkCS0zQCp87BRQPccKAw41WlybHWcdjU3Zz3iDtMmQ5zv0GI_s0tzEmQ',
            'Content-Type': 'application/json',
            }

@st.cache_data
def database():
    data_name = []
    data_price = []
    dic = {'ì¬ë ¨ì¬ë£Œ':50000,'ë°°í‹€ì•„ì´í…œ':60000,'ìƒí™œ':90000} 
    for value in dic.values():
        for t in range(1,10) :
            json_market = {
            'Sort': '',
            'CategoryCode': value,
            'CharacterClass': '',
            'ItemTier': 0,
            'ItemGrade': '',
            'ItemName': '' ,
            'PageNo': t,
            'SortCondition': 'ASC',
            }
            try:
                response_market =requests.post('https://developer-lostark.game.onstove.com/markets/items', headers=headers, json=json_market)
                content_market = response_market.json()
                item = content_market['Items']
                for i in range(len(item)):
                    data_name.append(item[i]['Name'])
                    data_price.append(item[i]['RecentPrice'])
            except:pass
    data_dict = dict(zip(data_name,data_price))
    return data_dict

json_auction = {
    'ItemLevelMin': 0,
    'ItemLevelMax': 1700,
    'ItemGradeQuality': 0,
    'Sort': 'BUY_PRICE',
    'CategoryCode': 210000,
    'CharacterClass': '',
    'ItemTier': 3,
    'ItemGrade': 'í¬ê·€',
    'ItemName': '3ë ˆë²¨',
    'PageNo': 0,
    'SortCondition': 'ASC',
}

response_auction = requests.post('https://developer-lostark.game.onstove.com/auctions/items', headers=headers, json=json_auction)
content_auction = response_auction.json()
item_list = content_auction['Items']


def price(args):
    return database()[args]
def charge(args):
    for n in range(0,database()[args]):
        if n+1>=database()[args]*0.05>n:
            return n+1
        
tab1, tab2, tab3, tab4, tab5 = st.tabs(['ì „ì„¤ì§€ë„','ì˜¤ë ˆí•˜ ê³µì¥', 'ë°°í‹€ì•„ì´í…œ ê³µì¥','ë”ë³´ê¸° ì†ìµ','ê²½ë§¤ ì…ì°°ê°€ê²©'])

with tab1:
    Legendmap=price('ëª…ì˜ˆì˜ íŒŒí¸ ì£¼ë¨¸ë‹ˆ(ëŒ€)')*9 + price('íƒœì–‘ì˜ ê°€í˜¸')*4 + price('íƒœì–‘ì˜ ì¶•ë³µ')*10 + price('íƒœì–‘ì˜ ì€ì´')*16 + item_list[1]['AuctionInfo']['BuyPrice']*5
    st.write('íŒë§¤í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ',Legendmap,'ê³¨ë“œ')
    st.write('íŒë§¤í•œë‹¤ë©´ ',Legendmap*0.95,'ê³¨ë“œ')

with tab2:
    st.write('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ ê°€ê²© : ',price('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ'),'ê³¨ë“œ')
    slide_option = (price('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ')-2,price('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ')-1,price('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ'),price('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ')+1,price('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ')+2)
    oreha_value = st.selectbox('íŒë§¤í•˜ë ¤ëŠ” ê°€ê²©',slide_option,index=2)
    for n in range(0,oreha_value):
        if n+1>=oreha_value*0.05>n:
            oreha_charge = n+1

    st.subheader('ê³ ê³ í•™ ì œì‘')
    st.write('í˜„ì¬ ê°€ê²© = [ ì˜¤ë ˆí•˜ ìœ ë¬¼ : {}ê³¨ë“œ, í¬ê·€í•œ ìœ ë¬¼ : {}ê³¨ë“œ, ê³ ëŒ€ ìœ ë¬¼ : {}ê³¨ë“œ ]'.format(price('ì˜¤ë ˆí•˜ ìœ ë¬¼'),price('í¬ê·€í•œ ìœ ë¬¼'),price('ê³ ëŒ€ ìœ ë¬¼')))
    if price('í¬ê·€í•œ ìœ ë¬¼')*25/4 >= price('ì˜¤ë ˆí•˜ ìœ ë¬¼'):
        oreha_legacy = price('ì˜¤ë ˆí•˜ ìœ ë¬¼')
        st.write('ê°€ë£¨ êµí™˜ ì“°ì§€ì•ŠìŒ')
    else:
        oreha_legacy = price('í¬ê·€í•œ ìœ ë¬¼')*25/4
        st.write('ê°€ë£¨ êµí™˜ ì‚¬ìš©')
    recipe_legacy = oreha_legacy*520 + price('í¬ê·€í•œ ìœ ë¬¼')*510 + price('ê³ ëŒ€ ìœ ë¬¼')*107
    profit_legacy = (oreha_value-oreha_charge)*1500-recipe_legacy-27600
    if profit_legacy>=0:
        st.write('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ : ì œì‘ 1ì¹¸ ë‹¹ ',profit_legacy/100,'ê³¨ë“œ ì´ë“')
    else:
        st.warning('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ : ì†í•´')
    st.subheader('ë‚šì‹œ ì œì‘')
    st.write('í˜„ì¬ ê°€ê²© = [ ì˜¤ë ˆí•˜ íƒœì–‘ ì‰ì–´ : {}ê³¨ë“œ, ìì—°ì‚° ì§„ì£¼ : {}ê³¨ë“œ, ë¶‰ì€ ì‚´ ìƒì„  : {}ê³¨ë“œ, ìƒì„  : {}ê³¨ë“œ ]'.format(price('ì˜¤ë ˆí•˜ íƒœì–‘ ì‰ì–´'),price('ìì—°ì‚° ì§„ì£¼'),price('ë¶‰ì€ ì‚´ ìƒì„ '),price('ìƒì„ ')))
    if price('ë¶‰ì€ ì‚´ ìƒì„ ')*25/4 >= price('ì˜¤ë ˆí•˜ íƒœì–‘ ì‰ì–´'):
        oreha_fishing = price('ì˜¤ë ˆí•˜ íƒœì–‘ ì‰ì–´')
        st.write('ê°€ë£¨ êµí™˜ ì“°ì§€ì•ŠìŒ')
    else:
        oreha_fishing = price('ë¶‰ì€ ì‚´ ìƒì„ ')*25/4
        st.write('ê°€ë£¨ êµí™˜ ì‚¬ìš©')
    recipe_fishing = oreha_fishing*520 + price('ìì—°ì‚° ì§„ì£¼')*640 + price('ìƒì„ ')*142
    profit_fishing = (oreha_value-oreha_charge)*1500 - recipe_fishing -27600
    if profit_fishing >= 0:
        st.write('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ : ì œì‘ 1ì¹¸ ë‹¹ ',profit_fishing/100,' ê³¨ë“œ ì´ë“')
    else:
        st.warning('ìµœìƒê¸‰ ì˜¤ë ˆí•˜ ìœµí™” ì¬ë£Œ : ì†í•´')


with tab3:
    
    st.subheader('ì •ë ¹ì˜ íšŒë³µì•½')
    st.write('ì •ë ¹ì˜ íšŒë³µì•½ ê°€ê²© : ',price('ì •ë ¹ì˜ íšŒë³µì•½'),'ê³¨ë“œ')
    battle_1 = (price('ì •ë ¹ì˜ íšŒë³µì•½')-charge('ì •ë ¹ì˜ íšŒë³µì•½'))*30 - (price('í™”ì‚¬í•œ ë“¤ê½ƒ')*6 + price('ìˆ˜ì¤ì€ ë“¤ê½ƒ')*24 + price('ë“¤ê½ƒ')*5 + 260)
    if battle_1 >= 0:
        st.write('ì •ë ¹ì˜ íšŒë³µì•½ : ì œì‘ 1ì¹¸ ë‹¹ ',battle_1/10,' ê³¨ë“œ ì´ë“')
    else:
        st.warning('ì •ë ¹ì˜ íšŒë³µì•½ ì œì‘ : ì†í•´')
    
    st.subheader('ê°ì„± ë¬¼ì•½')
    st.write('ê°ì„± ë¬¼ì•½ : ',price('ê°ì„± ë¬¼ì•½'),'ê³¨ë“œ')
    battle_2 = (price('ê°ì„± ë¬¼ì•½')-charge('ê°ì„± ë¬¼ì•½'))*30 - (price('í™”ë ¤í•œ ë²„ì„¯')*5 + price('ì‹±ì‹±í•œ ë²„ì„¯')*20 + price('íŠ¼íŠ¼í•œ ëª©ì¬')*2 + price('í¬ê·€í•œ ìœ ë¬¼')*4 + price('íˆ¬ë°•í•œ ë²„ì„¯')*4 + 260)
    if battle_2 >= 0:
        st.write('ê°ì„± ë¬¼ì•½ : ì œì‘ 1ì¹¸ ë‹¹ ',battle_2/10,' ê³¨ë“œ ì´ë“')
    else:
        st.warning('ê°ì„± ë¬¼ì•½ ì œì‘ : ì†í•´')

    st.subheader('ì•„ë“œë¡œí•€ ë¬¼ì•½')
    st.write('ì•„ë“œë¡œí•€ ë¬¼ì•½ : ',price('ì•„ë“œë¡œí•€ ë¬¼ì•½'),'ê³¨ë“œ')
    battle_3 = (price('ì•„ë“œë¡œí•€ ë¬¼ì•½')-charge('ì•„ë“œë¡œí•€ ë¬¼ì•½'))*30 - (price('í™”ì‚¬í•œ ë“¤ê½ƒ')*6 + price('ìˆ˜ì¤ì€ ë“¤ê½ƒ')*24 + price('ë‹¨ë‹¨í•œ ì² ê´‘ì„')*2+price('í¬ê·€í•œ ìœ ë¬¼')*2 + price('ë“¤ê½ƒ')*5 + 260)
    if battle_3 >= 0:
        st.write('ì•„ë“œë¡œí•€ ë¬¼ì•½ : ì œì‘ 1ì¹¸ ë‹¹ ',battle_3/10,' ê³¨ë“œ ì´ë“')
    else:
        st.warning('ì•„ë“œë¡œí•€ ë¬¼ì•½ ì œì‘ : ì†í•´')    
    
    st.subheader('íŒŒê´´ í­íƒ„')
    st.write('íŒŒê´´ í­íƒ„ : ',price('íŒŒê´´ í­íƒ„'),'ê³¨ë“œ')
    battle_4 = (price('íŒŒê´´ í­íƒ„')-charge('íŒŒê´´ í­íƒ„'))*30 - (price('í™”ë ¤í•œ ë²„ì„¯')*4+price('ì‹±ì‹±í•œ ë²„ì„¯')*12+price('ë¬µì§í•œ ì² ê´‘ì„')*6+price('íˆ¬ë°•í•œ ë²„ì„¯')*3.2 + 140)
    if battle_4 >= 0:
        st.write('íŒŒê´´ í­íƒ„ : ì œì‘ 1ì¹¸ ë‹¹ ',battle_4/10,' ê³¨ë“œ ì´ë“')
    else:
        st.warning('íŒŒê´´ í­íƒ„ ì œì‘ : ì†í•´')
        

    st.subheader('ì•”í‘ ìˆ˜ë¥˜íƒ„')
    st.write('ì•”í‘ ìˆ˜ë¥˜íƒ„ : ',price('ì•”í‘ ìˆ˜ë¥˜íƒ„'),'ê³¨ë“œ')
    battle_5 = (price('ì•”í‘ ìˆ˜ë¥˜íƒ„')-charge('ì•”í‘ ìˆ˜ë¥˜íƒ„'))*30 - (price('í™”ë ¤í•œ ë²„ì„¯')*3+price('ì‹±ì‹±í•œ ë²„ì„¯')*12+price('ë¶€ë“œëŸ¬ìš´ ëª©ì¬')*3+price('íˆ¬ë°•í•œ ë²„ì„¯')*2.4 + 140)
    if battle_5 >= 0:
        st.write('ì•”í‘ ìˆ˜ë¥˜íƒ„ : ì œì‘ 1ì¹¸ ë‹¹ ',battle_5/10,' ê³¨ë“œ ì´ë“')
    else:
        st.warning('ì•”í‘ ìˆ˜ë¥˜íƒ„ ì œì‘ : ì†í•´')
        
with tab4:
    select_reward = st.multiselect('í•„ìš”í•œ ì¬ë£Œ ì„ íƒ',('ëª…ì˜ˆì˜ íŒŒí¸','ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„','ì •ì œëœ íŒŒê´´ê°•ì„','ì •ì œëœ ìˆ˜í˜¸ê°•ì„','í˜¼ëˆì˜ ëŒ'),['ëª…ì˜ˆì˜ íŒŒí¸','ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„','ì •ì œëœ íŒŒê´´ê°•ì„','ì •ì œëœ ìˆ˜í˜¸ê°•ì„','í˜¼ëˆì˜ ëŒ'])
    if 'ì •ì œëœ ìˆ˜í˜¸ê°•ì„' in select_reward:
        price_pr_1 = st.number_input('ì§€ì—­ì±„íŒ… í•œ ë©ì´(9999ê°œ) ê°€ê²©',value=1500)
    raid = st.selectbox('ì»¨í…ì¸ ',('ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ','ì¹´ì–‘ê²” í•˜ë“œ','ì¼ë¦¬ì•„ì¹¸ ë…¸ë§','ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ','í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§','í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ'))
    
    if 'ëª…ì˜ˆì˜ íŒŒí¸' in select_reward:
        price_sh = price('ëª…ì˜ˆì˜ íŒŒí¸ ì£¼ë¨¸ë‹ˆ(ëŒ€)')/1500
    else:
        price_sh = 0
    
    if 'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„' in select_reward:
        price_st = price('ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„')
    else:
        price_st = 0

    if 'ì •ì œëœ íŒŒê´´ê°•ì„' in select_reward:
        price_de = price('ì •ì œëœ íŒŒê´´ê°•ì„')/10
    else:
        price_de = 0

    if 'ì •ì œëœ ìˆ˜í˜¸ê°•ì„' in select_reward:
        price_pr_2 = price_pr_1/10000
    else:
        price_pr_2 = 0

    if 'í˜¼ëˆì˜ ëŒ' in select_reward:
        price_ch = 500
    else:
        price_ch = 0


    #ë ˆì´ë“œ ì¢…ë¥˜

    if 'ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ' not in st.session_state:
        st.session_state['ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ'] = ['ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ1ê´€ë¬¸','ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ2ê´€ë¬¸','ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ3ê´€ë¬¸','ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ4ê´€ë¬¸','ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ5ê´€ë¬¸','ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ6ê´€ë¬¸']

    if 'ì¹´ì–‘ê²” í•˜ë“œ' not in st.session_state:
        st.session_state['ì¹´ì–‘ê²” í•˜ë“œ'] = ['ì¹´ì–‘ê²” í•˜ë“œ1ê´€ë¬¸','ì¹´ì–‘ê²” í•˜ë“œ2ê´€ë¬¸','ì¹´ì–‘ê²” í•˜ë“œ3ê´€ë¬¸','ì¹´ì–‘ê²” í•˜ë“œ4ê´€ë¬¸']

    if 'ì¼ë¦¬ì•„ì¹¸ ë…¸ë§' not in st.session_state:
        st.session_state['ì¼ë¦¬ì•„ì¹¸ ë…¸ë§'] = ['ì¼ë¦¬ì•„ì¹¸ ë…¸ë§1ê´€ë¬¸','ì¼ë¦¬ì•„ì¹¸ ë…¸ë§2ê´€ë¬¸','ì¼ë¦¬ì•„ì¹¸ ë…¸ë§3ê´€ë¬¸']

    if 'ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ' not in st.session_state:
        st.session_state['ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ'] = ['ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ1ê´€ë¬¸','ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ2ê´€ë¬¸','ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ3ê´€ë¬¸']

    if 'í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§' not in st.session_state:
        st.session_state['í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§'] = ['í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§1ê´€ë¬¸','í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§2ê´€ë¬¸','í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§3ê´€ë¬¸','í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§4ê´€ë¬¸']

    if 'í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ' not in st.session_state:
        st.session_state['í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ'] = ['í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ1ê´€ë¬¸','í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ2ê´€ë¬¸','í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ3ê´€ë¬¸','í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ4ê´€ë¬¸']

    #ë ˆì´ë“œ ë³´ìƒ

    if 'ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ1ê´€ë¬¸' not in st.session_state:
        st.session_state['ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ1ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':1600,'ì •ì œëœ íŒŒê´´ê°•ì„':24,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':48,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':1.6,'í˜¼ëˆì˜ ëŒ':0.6,'ë”ë³´ê¸° ê³¨ë“œ':700}

    if 'ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ2ê´€ë¬¸' not in st.session_state:
        st.session_state['ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ2ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':2000,'ì •ì œëœ íŒŒê´´ê°•ì„':36,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':72,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':1.6,'í˜¼ëˆì˜ ëŒ':0.8,'ë”ë³´ê¸° ê³¨ë“œ':800}
    
    if 'ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ3ê´€ë¬¸' not in st.session_state:
        st.session_state['ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ3ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':1600,'ì •ì œëœ íŒŒê´´ê°•ì„':36,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':72,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':1.6,'í˜¼ëˆì˜ ëŒ':0.6,'ë”ë³´ê¸° ê³¨ë“œ':900}    

    if 'ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ4ê´€ë¬¸' not in st.session_state:
        st.session_state['ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ4ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':2000,'ì •ì œëœ íŒŒê´´ê°•ì„':48,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':96,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':1.6,'í˜¼ëˆì˜ ëŒ':0.8,'ë”ë³´ê¸° ê³¨ë“œ':1100}

    if 'ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ5ê´€ë¬¸' not in st.session_state:
        st.session_state['ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ5ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':2400,'ì •ì œëœ íŒŒê´´ê°•ì„':60,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':120,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':2,'í˜¼ëˆì˜ ëŒ':0.6,'ë”ë³´ê¸° ê³¨ë“œ':1100}
    
    if 'ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ6ê´€ë¬¸' not in st.session_state:
        st.session_state['ì•„ë¸Œë ìŠˆë“œ í•˜ë“œ6ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':3000,'ì •ì œëœ íŒŒê´´ê°•ì„':90,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':180,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':3,'í˜¼ëˆì˜ ëŒ':1,'ë”ë³´ê¸° ê³¨ë“œ':1400}    

    if 'ì¹´ì–‘ê²” í•˜ë“œ1ê´€ë¬¸' not in st.session_state:
        st.session_state['ì¹´ì–‘ê²” í•˜ë“œ1ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':1500,'ì •ì œëœ íŒŒê´´ê°•ì„':70,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':140,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':3,'í˜¼ëˆì˜ ëŒ':0.2,'ë”ë³´ê¸° ê³¨ë“œ':700}

    if 'ì¹´ì–‘ê²” í•˜ë“œ2ê´€ë¬¸' not in st.session_state:
        st.session_state['ì¹´ì–‘ê²” í•˜ë“œ2ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':1500,'ì •ì œëœ íŒŒê´´ê°•ì„':70,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':140,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':3,'í˜¼ëˆì˜ ëŒ':0.2,'ë”ë³´ê¸° ê³¨ë“œ':700}
        
    if 'ì¹´ì–‘ê²” í•˜ë“œ3ê´€ë¬¸' not in st.session_state:
        st.session_state['ì¹´ì–‘ê²” í•˜ë“œ3ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':2000,'ì •ì œëœ íŒŒê´´ê°•ì„':90,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':180,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':4,'í˜¼ëˆì˜ ëŒ':0.2,'ë”ë³´ê¸° ê³¨ë“œ':900}

    if 'ì¹´ì–‘ê²” í•˜ë“œ4ê´€ë¬¸' not in st.session_state:
        st.session_state['ì¹´ì–‘ê²” í•˜ë“œ4ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':2500,'ì •ì œëœ íŒŒê´´ê°•ì„':120,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':240,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':6,'í˜¼ëˆì˜ ëŒ':0.6,'ë”ë³´ê¸° ê³¨ë“œ':1100}

    if 'ì¼ë¦¬ì•„ì¹¸ ë…¸ë§1ê´€ë¬¸' not in st.session_state:
        st.session_state['ì¼ë¦¬ì•„ì¹¸ ë…¸ë§1ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':3000,'ì •ì œëœ íŒŒê´´ê°•ì„':120,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':240,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':6,'í˜¼ëˆì˜ ëŒ':0.6,'ë”ë³´ê¸° ê³¨ë“œ':900}

    if 'ì¼ë¦¬ì•„ì¹¸ ë…¸ë§2ê´€ë¬¸' not in st.session_state:
        st.session_state['ì¼ë¦¬ì•„ì¹¸ ë…¸ë§2ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':3000,'ì •ì œëœ íŒŒê´´ê°•ì„':160,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':320,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':8,'í˜¼ëˆì˜ ëŒ':0.6,'ë”ë³´ê¸° ê³¨ë“œ':1100}
    
    if 'ì¼ë¦¬ì•„ì¹¸ ë…¸ë§3ê´€ë¬¸' not in st.session_state:
        st.session_state['ì¼ë¦¬ì•„ì¹¸ ë…¸ë§3ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':4200,'ì •ì œëœ íŒŒê´´ê°•ì„':240,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':480,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':480,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':8,'í˜¼ëˆì˜ ëŒ':1,'ë”ë³´ê¸° ê³¨ë“œ':1500}    

    if 'ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ1ê´€ë¬¸' not in st.session_state:
        st.session_state['ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ1ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':4000,'ì •ì œëœ íŒŒê´´ê°•ì„':200,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':400,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':9,'í˜¼ëˆì˜ ëŒ':1.4,'ë”ë³´ê¸° ê³¨ë“œ':1200}

    if 'ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ2ê´€ë¬¸' not in st.session_state:
        st.session_state['ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ2ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':4000,'ì •ì œëœ íŒŒê´´ê°•ì„':240,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':480,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':12,'í˜¼ëˆì˜ ëŒ':1.4,'ë”ë³´ê¸° ê³¨ë“œ':1400}
    
    if 'ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ3ê´€ë¬¸' not in st.session_state:
        st.session_state['ì¼ë¦¬ì•„ì¹¸ í•˜ë“œ3ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':5500,'ì •ì œëœ íŒŒê´´ê°•ì„':360,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':720,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':18,'í˜¼ëˆì˜ ëŒ':1.6,'ë”ë³´ê¸° ê³¨ë“œ':1900}    

    if 'í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§1ê´€ë¬¸' not in st.session_state:
        st.session_state['í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§1ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':3000,'ì •ì œëœ íŒŒê´´ê°•ì„':100,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':200,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':2,'í˜¼ëˆì˜ ëŒ':0,'ì„ ëª…í•œ ì§€í˜œì˜ ê¸°ìš´':2,'ë”ë³´ê¸° ê³¨ë“œ':700}

    if 'í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§2ê´€ë¬¸' not in st.session_state:
        st.session_state['í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§2ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':3000,'ì •ì œëœ íŒŒê´´ê°•ì„':100,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':200,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':200,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':2,'í˜¼ëˆì˜ ëŒ':0,'ì„ ëª…í•œ ì§€í˜œì˜ ê¸°ìš´':2,'ë”ë³´ê¸° ê³¨ë“œ':800}

    if 'í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§3ê´€ë¬¸' not in st.session_state:
        st.session_state['í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§3ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':3000,'ì •ì œëœ íŒŒê´´ê°•ì„':200,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':400,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':2,'í˜¼ëˆì˜ ëŒ':0,'ì„ ëª…í•œ ì§€í˜œì˜ ê¸°ìš´':3,'ë”ë³´ê¸° ê³¨ë“œ':900}

    if 'í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§4ê´€ë¬¸' not in st.session_state:
        st.session_state['í˜¼ëˆì˜ ìƒì•„íƒ‘ ë…¸ë§4ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':4500,'ì •ì œëœ íŒŒê´´ê°•ì„':200,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':400,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':3,'í˜¼ëˆì˜ ëŒ':0,'ì„ ëª…í•œ ì§€í˜œì˜ ê¸°ìš´':1,'ì„ ëª…í•œ ì§€í˜œì˜ ì—˜ë¦­ì„œ':1,'ë”ë³´ê¸° ê³¨ë“œ':1100}

    elixer = price('ë¹›ë‚˜ëŠ” ì§€í˜œì˜ ì •ìˆ˜')*6*0.95-250

    if 'í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ1ê´€ë¬¸' not in st.session_state:
        st.session_state['í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ1ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':4000,'ì •ì œëœ íŒŒê´´ê°•ì„':150,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':300,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':3,'í˜¼ëˆì˜ ëŒ':0,'ë”ë³´ê¸° ê³¨ë“œ':1000-elixer/2}

    if 'í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ2ê´€ë¬¸' not in st.session_state:
        st.session_state['í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ2ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':4000,'ì •ì œëœ íŒŒê´´ê°•ì„':150,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':300,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':3,'í˜¼ëˆì˜ ëŒ':0,'ë”ë³´ê¸° ê³¨ë“œ':1000-elixer/2}

    if 'í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ3ê´€ë¬¸' not in st.session_state:
        st.session_state['í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ3ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':5000,'ì •ì œëœ íŒŒê´´ê°•ì„':240,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':480,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':5,'í˜¼ëˆì˜ ëŒ':0,'ë”ë³´ê¸° ê³¨ë“œ':1500-elixer*3/4}

    if 'í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ4ê´€ë¬¸' not in st.session_state:
        st.session_state['í˜¼ëˆì˜ ìƒì•„íƒ‘ í•˜ë“œ4ê´€ë¬¸'] = {'ëª…ì˜ˆì˜ íŒŒí¸':5500,'ì •ì œëœ íŒŒê´´ê°•ì„':300,'ì •ì œëœ ìˆ˜í˜¸ê°•ì„':600,'ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„':7,'í˜¼ëˆì˜ ëŒ':0,'ë”ë³´ê¸° ê³¨ë“œ':2000-elixer/4-price('ë¹›ë‚˜ëŠ” ì§€í˜œì˜ ì •ìˆ˜')*6}

    raid_name = st.session_state[raid]
    df_list = []
    for i in range(0,len(raid_name)):
        raid_gate = raid_name[i]
        raid_reward = st.session_state[raid_gate]
        break_even = raid_reward['ëª…ì˜ˆì˜ íŒŒí¸']*price_sh + raid_reward['ì •ì œëœ íŒŒê´´ê°•ì„']*price_de + raid_reward['í˜¼ëˆì˜ ëŒ']*price_ch + raid_reward['ì°¬ë€í•œ ëª…ì˜ˆì˜ ëŒíŒŒì„']*price_st + raid_reward['ì •ì œëœ ìˆ˜í˜¸ê°•ì„']*price_pr_2- raid_reward['ë”ë³´ê¸° ê³¨ë“œ']
        if break_even >= 0 :
            result = 'ë”ë³´ê¸° ì´ë“ : {} ê³¨ë“œ'.format(break_even)
        else :
            result = 'ë”ë³´ê¸° ì†í•´ : {} ê³¨ë“œ'.format(break_even)
        df_tuple = (raid_gate,result)
        df_list.append(list(df_tuple))
        
    df = pd.DataFrame(df_list,columns=('ê´€ë¬¸','ì†ìµ'))
    st.subheader(raid)
    st.write(df)


with tab5:
    radio = st.radio("ì»¨í…ì¸  ì¢…ë¥˜",('4ì¸ ì»¨í…ì¸ ','8ì¸ ì»¨í…ì¸ ','3ì¸ ë²„ìŠ¤','4ì¸ ë²„ìŠ¤','5ì¸ ë²„ìŠ¤'))
    bid = st.number_input("ê²½ë§¤í’ˆ ê°€ê²©ì„ ì…ë ¥í•˜ì„¸ìš”")
    if bid == 0.00 :
        pass
    elif radio == '4ì¸ ì»¨í…ì¸ ':
        st.write(bid*0.95*3/4.4,'ê³¨ë“œ ì´ìƒ ',bid*0.95*3/4,'ê³¨ë“œ ì´í•˜')
    elif radio == '8ì¸ ì»¨í…ì¸ ':
        st.write(bid*0.95*7/8.8,'ê³¨ë“œ ì´ìƒ ',bid*0.95*7/8,'ê³¨ë“œ ì´í•˜')
    elif radio == '3ì¸ ë²„ìŠ¤':
        st.write('ë³´ì„ ì…ì°° ê°€ê²© ',(bid*0.95-50)/2.95,'ê³¨ë“œ')
    elif radio == '4ì¸ ë²„ìŠ¤':
        st.write('ë³´ì„ ì…ì°° ê°€ê²© ',(bid*0.95-50)/3.95,'ê³¨ë“œ')
    elif radio == '5ì¸ ë²„ìŠ¤':
        st.write('ë³´ì„ ì…ì°° ê°€ê²© ',(bid*0.95-50)/4.95,'ê³¨ë“œ')        
    elif radio == '6ì¸ ë²„ìŠ¤':
        st.write('ë³´ì„ ì…ì°° ê°€ê²© ',(bid*0.95-50)/5.95,'ê³¨ë“œ')
